<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body>
    <!-- ex_scroll2-2.html -->

    <main>
        <section>01</section>
        <section>02</section>
        <section>03</section>
        <section>04</section>
        <section>05</section>
    </main>
    
    <aside>
        <a class="active"></a>
        <a></a>
        <a></a>
        <a></a>
        <a></a>
    </aside>

    <style>
        body{margin:0;}
        section{
            height:100vh;
            font-size: 5rem;
            display: flex; justify-content: center; align-items: center;
        }
        section:nth-child(odd){
            background-color: #eee;
        }
        aside{
            position: fixed;
            right: 5%; top: 50%;
        }
        a{
            width: 10px; height: 10px;
            border: 1px solid #000;
            border-radius: 50%;
            display: block; margin: 10px 0;
        }
        a.active{background-color: #000;}
    </style>

    <script>
        let scrollTop;
        let offsetTop = [
            $('section').eq(0).offset().top,
            $('section').eq(1).offset().top,
            $('section').eq(2).offset().top,
            $('section').eq(3).offset().top,
            $('section').eq(4).offset().top
        ]

        $(window).on('scroll',function(){
            // 스크롤양
            scrollTop = $(window).scrollTop()

            // for(let i=0; i<5; i++){}
            // ㄴ 반복문. each랑 똑같은거
            // ㄴ 스크롤양보다 큰게 있는지 없는지 체크해보기위함
            
            $('aside a').each(function(i){
                
                if(offsetTop[i] <= scrollTop){
                    $('aside a').removeClass('active')
                    .eq(i).addClass('active');
                }
            })
        });

            // true가되는순간 명령을줌
        // if(offsetTop[0] < scrollTop){
        //     $('aside a').removeClass('active')
        //     .eq(0).addClass('active');
        // }
        // if(offsetTop[1] < scrollTop){
        //     $('aside a').removeClass('active')
        //     .eq(1).addClass('active');
        // }
        // if(offsetTop[2] < scrollTop){
        //     $('aside a').removeClass('active')
        //     .eq(2).addClass('active');
        // }
        // if(offsetTop[3] < scrollTop){
        //     $('aside a').removeClass('active')
        //     .eq(3).addClass('active');
        // }
        // if(offsetTop[4] <= scrollTop){
        //     $('aside a').removeClass('active')
        //     .eq(4).addClass('active');
        // }

    </script>



</body>
</html>